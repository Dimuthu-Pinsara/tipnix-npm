function t(t,e,n){var o,i;return null!==(i=null!==(o=t.getAttribute(`data-tipnix-${e}`))&&void 0!==o?o:t.getAttribute(`tipnix-${e}`))&&void 0!==i?i:n}function e(e={}){const{textColor:n="#ffffff",backgroundColor:o="#333333",fontSize:i="16px",animation:l,width:r="225px",padding:s="16px",parentWrapElement:p,selector:a=".tipnix"}=e,c=document.querySelectorAll(a),f=window.innerWidth,d="rtl"===document.documentElement.getAttribute("dir");if(!c.length)return;let u=document.querySelector("#tipnix-style");u||(u=document.createElement("style"),u.id="tipnix-style",document.head.appendChild(u)),c.forEach(e=>{const c=t(e,"bg",o),g=t(e,"text-color",n),y=t(e,"font-size",i),h=t(e,"width",r),m=t(e,"padding",s),x=t(e,"parent",p),b=t(e,"animation",l),F=t(e,"text","")||"",$=document.createElement("span");$.classList.add("tipnix-tooltip"),$.textContent=F;const v=parseInt(h,10)>f?f/3+"px":h;if($.style.color=g,$.style.backgroundColor=c,$.style.fontSize=y,$.style.width=v,$.style.padding=m,b){const t=function(t=4){const e="abcdefghijklmnopqrstuvwxyz";return Array.from({length:t},()=>e[Math.random()*e.length|0]).join("")}(4);$.classList.add(t),u.innerHTML+=`\n          ${a}:hover .${t} {\n            animation: ${b} 0.5s ease-in-out both;\n          }\n        `}else u.innerHTML+=l?`\n          ${a}:hover .tipnix-tooltip {\n            animation: ${l} 0.5s ease-in-out both;\n          }\n        `:`\n          ${a}:hover .tipnix-tooltip {\n            animation: shake 0.5s ease-in-out both;\n          }\n        `;$.style.setProperty("--tooltip-before-left","50%"),e.appendChild($);const C=e.offsetWidth/2;let w=null;x?w=document.querySelector(x):p&&(w=document.querySelector(p));const L=e.getBoundingClientRect(),E=null==w?void 0:w.getBoundingClientRect();let P;P=E?d?E.right-L.right:L.left-E.left:d?L.right:L.left;const S=$.offsetWidth,q=$.offsetHeight+15;$.style.top=`-${q}px`,P<S/2?(d?($.style.right=-P+"px",$.style.setProperty("--tooltip-before-right",P+C-10+"px"),$.style.setProperty("--tooltip-before-left","unset")):($.style.left=-P+"px",$.style.setProperty("--tooltip-before-left",P+C-2+"px"),$.style.setProperty("--tooltip-before-right","unset")),$.style.transform="translateX(0)"):($.style.left="unset",$.style.transform="unset",$.style.setProperty("--tooltip-before-left","50%")),e.addEventListener("mouseenter",()=>{!function(t,e){const n=t.getBoundingClientRect().top,o=e.offsetHeight+15,i=t.offsetHeight+10,l=n>o;e.style.top=l?`-${o}px`:`${i}px`,e.classList.toggle("tooltip-above",l),e.classList.toggle("tooltip-below",!l)}(e,$)})})}function n(t){if(!t)return"#FFFFFF";3===(t=t.replace("#","")).length&&(t=t.split("").map(t=>t+t).join(""));return(.299*parseInt(t.slice(0,2),16)+.587*parseInt(t.slice(2,4),16)+.114*parseInt(t.slice(4,6),16))/255>.5?"#000000":"#FFFFFF"}export{n as getContrastColor,e as initTipNixTooltip};
//# sourceMappingURL=index.esm.js.map
